# 📝 프로젝트 소개
>약 3개월 동안 사이버 보안 전공 팀원들과 진행했던 딥러닝을 활용한 서명 위변조 판별 프로젝트입니다.  
- 제작 기간 : 2020년 3월 ~ 6월  
- 팀 프로젝트 협업자  
    - 주상우 : 전체적인 프로젝트 관리, 데이터 셋 검증 및 수정
    - 고수정 : 데이터 셋 작성, 검증, 수정 
    - 최현우 (본인) : CNN 모델 구조 개발, 모델 구조 검증 및 수정


</br>


## 🌉 주제 선정 배경
  - 최근 병원, 국회, 학교 등의 기관에서 위조 서명에 관한 뉴스가 자주 노출되어 보안 인식 제고의 필요성을 느꼈습니다.


</br>



## 🛠 사용 기술
#### `Environment`
  - Anaconda 3
  - Pycharm
#### `language`
  - python
#### `library`  
  - Tensorflow 1.14
  - keras
  - pillow
  - matplot
  - MNIST Database

</br>


## 🔎 주요 기능 및 시스템 구성 
>이 서비스의 주요 기능은 원본으로 작성된 서명 이미지와 위조된 서명 이미지 판별입니다.

#### 1. 데이터셋 제작기준 설정
    - 비율 : 초성, 중성, 종성의 크기 변화가 테스트시 예측확률에 큰 영향을 줌
    - 픽셀 이동 : 조금의 픽셀이동에도 예측 확률이 크게 달라짐
    - 글자의 각도 : 직선에서 휘어지거나 각도의 변함에 따라 예측 확률이 달라짐
    - 간격 : 초성, 중성, 종성 간의 간격도 예측확률에 영향을 줌
    - 평행 : 초성, 중성, 종성의 직선 평행 여부  

<details>
    <summary>📽 시연 화면</summary>
        <div markdown="1">
          <img src="https://user-images.githubusercontent.com/62496215/168131611-0dac86d3-37ab-4a3c-93e5-71257208eb3a.png" width="1000">
        </div>
</details>



#### 2. 학습 데이터 셋 생성

    - 원본 서명 이미지 셋: 사용자가 서명한 이미지('박')와 픽셀 이동으로 만들어진 원본 서명이미지 180개를 작성
    - 변형 서명 이미지 셋: 원본 서명 이미지에서 한 획씩 변경한 이미지 7종류, 상하좌우 반전된 이미지 2종류, 2획 이동된 이미지 1종류로 기준을 잡아 각 20개씩 만들어 총 200개를 작성

<details>
    <summary>📽 시연 화면</summary>
        <div markdown="1">
          <img src="https://user-images.githubusercontent.com/62496215/168134948-b05fd734-01a4-4225-9b9f-daea9b19d031.png" width="1000">
        </div>
</details>

#### 3. 테스트 데이터 셋 생성
    - 유사 서명 이미지 셋 : 원본(1라벨)과 똑같이 만든 이미지 10개를 작성  
    - 변형 서명 이미지 셋 : 원본에서 획을 변형(0라벨)하거나 추가한 이미지 10개를 작성

<details>
    <summary>📽 시연 화면</summary>
        <div markdown="1">
          <img src="https://user-images.githubusercontent.com/62496215/168135052-f4bf7574-66d8-4dc2-9bde-ec6a9de5c878.png" width="1000">
        </div>
</details>


#### 4. 모델 구조
    - 사용자가 200*200 크기의 서명이미지를 입력하면 합성곱, 맥스풀링 6계층으로 들어가 
    - 이미지 특정부분의 특징을 추출한 특징(피쳐)맵의 크기와 개수가 200,200,1 / 100,100,32 / 50,50,64 / 13,13,96 / 7,7,128 / 4,4,128 로 줄어듬으로써 이미지의 특징이 작아지고 강화됩니다. 
    - 그 후에 이 전 계층과 출력계층을 연결해주는 완전연결계층을 지나 드롭아웃과 시그모이드 활성화 함수가 적용된 출력계층에서 최종적으로 0~1사이의 확률이 출력됩니다.
   

<details>
    <summary>📽 시연 화면</summary>
        <div markdown="1">
          <img src="https://user-images.githubusercontent.com/62496215/168131803-f12cb746-60d4-48e2-9377-2c6a77f1ccb3.png" width="1000">
        </div>
</details>

   
#### 5. 모델 학습 결과
    - 모델 학습시 고려사항 : 각 계층에서 적용되는 가중치 필터 크기와 필터, 뉴런 개수, 학습율 조정 , 데이터셋 비율에 따른 배치(batch) 조정, 전체반복횟수(epoch) 조정을 통한 최적의 모델조건을 연구하였습니다.
    - 모델 학습 결과 : 원본이미지 폴더와 유사이미지 폴더에 저장되어있는 380개의 학습이미지에 대해 15번 학습을 진행하는동안 평균적인 학습 정확도가 0.6에서 서서히 증가하며 최종적으로는 1로 바뀌었고, 평균적인 학습 손실율은 점차 0에 가까워지는 것을 보았을 때 학습이 잘 되었다는 것을 확인할수 있습니다.      
 

<details>
    <summary>📽 시연 화면</summary>
        <div markdown="1">
          <img src="https://user-images.githubusercontent.com/62496215/168132659-8cc7d20e-4e72-4fff-b852-44b5f404bdc7.png" width="1000">
        </div>
</details>
    
    
#### 6. 모델 테스트 결과    
    - 15번 학습이 끝나고 테스트 결과를 확인한 결과 원본에서 획을 변형하거나 추가한 이미지의 경우 원본과 유사할 확률이 0에 가까웠고 
    - 원본과 똑같이 만든 이미지의 경우 원본과 유사할 확률이 0.8 이상인걸 확인할수 있다. 
    - 그래서 0.8을 기준으로 하여 0.8보다 낮으면 원본과 다른 이미지라는 결론을 도출했습니다.
  

<details>
    <summary>📽 시연 화면</summary>
        <div markdown="1">
          <img src="https://user-images.githubusercontent.com/62496215/168132753-7e2b56dc-be6d-4d7d-af0c-cff67f56d479.png" width="1000">
        </div>
</details>
    
    
## ❕ 회고 / 느낀점
>프로젝트 개발 회고 글
- 아이디어 구상 단계에서 보안트랙에서 배운 지식들을 최대한 활용하는 방안을 최우선적으로 생각하였고 제 수준에서 도전하기에 적합한 프로젝트를 찾기 위해 여러방면으로 생각을 하는 과정에서 딥러닝이라는 생소한 분야로 눈을 돌리게 되었습니다. 
- 처음에는 텐서의 개념도 이해하기 어려웠는데, Tensorflow 라이브러리를 활용해 직접 모델을 구현하고 모델의 성능에 영향을 미치는 요소들을 조금씩 변경해가며 학습과 테스트 과정을 진행하면서 딥러닝이라는 분야를 조금씩 알게 되었고 팀원들과 데이터셋 테스트 과정을 함께 진행하며 최적의 모델을 찾을수 있도록 끊임없이 고민하고 노력했던 시간들이 있었기에 이번 프로젝트가 잘 마무리 될수 있었던 것 같습니다.












